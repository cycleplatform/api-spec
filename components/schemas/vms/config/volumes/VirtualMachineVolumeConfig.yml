title: VirtualMachineVolumeConfig
type: object
description: |
  Represents the configuration for a volume attached to a virtual machine.
required:
  - identifier
  - read_only
properties:
  local:
    anyOf:
      - type: object
        required:
          - max_size
        properties:
          max_size:
            type: string
            description: The maximum size allowed for the local volume.
            examples: [100G]
          storage_pool:
            anyOf:
              - type: boolean
              - type: "null"
            description: Indicates if the volume is part of a storage pool.
      - type: "null"
    description: Configuration details for a local volume.
  external:
    anyOf:
      - type: object
        required:
          - mode
        properties:
          identifier:
            oneOf:
              - $ref: ../../../Identifier.yml
              - type: "null"
            description: The identifier of the external volume.
          mode:
            type: string
            enum: [instance, host]
            description: The attachment mode for the external volume.
      - type: "null"
    description: Configuration details for a SAN volume.
  identifier:
    $ref: ../../../Identifier.yml
  read_only:
    type: boolean
    description: Specifies if the volume is mounted as read-only.
